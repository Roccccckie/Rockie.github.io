<!DOCTYPE html>
<html lang="en">
<head>
  <!-- TikTok Pixel Code Start -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('CS4KIG3C77UF6LFM2II0');
  ttq.page();
}(window, document, 'ttq');
</script>
<!-- TikTok Pixel Code End -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Steam Widget Example</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .game-widget {
            margin-bottom: 20px;
            border: 1px solid #ccc;
            padding: 10px;
        }
    </style>
    <script src="https://www.steamwidgets.net/api/resource/query?type=js&module=app&version=v1"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- 引入 jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery.iframetracker@2.1.0/dist/jquery.iframetracker.min.js"></script>
</head>
<body>
    <div id="app-widget"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let widget = new SteamApp("#app-widget", {
                appid: "1909750",
            });
        });

        // Iframe Tracker Plugin
        (function (root, factory) {
            if (typeof define === 'function' && define.amd) {
                define(["jquery"], function (a0) {
                    return (factory(a0));
                });
            } else if (typeof module === 'object' && module.exports) {
                module.exports = factory(require("jquery"));
            } else {
                factory(root["jQuery"]);
            }
        }(this, function (jQuery) {
            (function($) {
                // Iframe tracking logic...
            })(jQuery);
        }));

        // 监听 iframe 点击事件
        jQuery(document).ready(function($){
            $('.iframe_wrap').iframeTracker({
                blurCallback: function() {
                    // Google Analytics事件跟踪代码
                    console.log('Iframe lost focus'); // 示例: 打印日志
                  ttq.track('AddToCart', {
	"contents": [
		{
			"content_id": "<content_identifier>", // string. ID of the product. Example: "1077218".
			"content_type": "<content_type>", // string. Either product or product_group.
			"content_name": "<content_name>" // string. The name of the page or product. Example: "shirt".
		}
	]
});
                }
            });
        });
    </script>

    <div class="iframe_wrap"> <!-- 包裹 iframe 的 div -->
        <iframe
            src="https://store.steampowered.com/widget/1282270/"
            frameborder="0"
            width="646"
            height="190"
        ></iframe>
    <iframe
            src="https://store.steampowered.com/widget/2239150/"
            frameborder="0"
            width="646"
            height="190"
        ></iframe>
    <iframe
            src="https://store.steampowered.com/widget/236390/"
            frameborder="0"
            width="646"
            height="190"
        ></iframe>
	    <iframe src="https://store.steampowered.com/widget/2654310/" frameborder="0" width="646" height="190"></iframe>
    
    </div>


	
  <style>
    .iframe-wrapper {
      position: relative;
      width: 100%;  /* 根据需要调整 */
      height: 100%; /* 根据需要调整 */
    }

    .iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      pointer-events: none; /* 使得点击事件能穿透 */
    }
  </style>

<script>
function handleClick() {
  ttq.track('ClickButton', {
    "content_id": "<12136>",
    "content-name": "<WholePage>"
  });
}
</script>



	
</body>
</html>

